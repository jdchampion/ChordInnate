package chordinnate.entity;

import chordinnate.service.Services;
import chordinnate.service.ScaleTypeTagRelationService;
import lombok.extern.slf4j.Slf4j;
import org.junit.Test;

import static org.junit.Assert.*;

import java.util.List;


@Slf4j
public class TestScaleTypeTagRelation {

    @Test
    public void test() {

//        ScaleTypeTagRelationService service = Services.getScaleTypeTagRelationService();

//        ScaleTypeTagRelation scaleTypeTagRelation = service.findById(1).orElse(null);
//
//        assertNotNull(scaleTypeTagRelation);
//
//        assertNotNull(scaleTypeTagRelation.getMatchingTag());
//
//        ScaleType scaleType = scaleTypeTagRelation.getMatchingScaleType();
//
//        log.info(scaleType.getName());
//
//        scaleType.getScaleTypeTagRelations().forEach(rel -> {
//            log.info(rel.getMatchingTag().getName());
//        });

//        ScaleType scaleType = Services.getScaleTypeService().findByName("Adonai Malakh").get();
//
//        List<ScaleTypeTagRelation> list = (List<ScaleTypeTagRelation>) service.findAllFor(scaleType);
//
//        assertNotNull(list);
//
//        for (ScaleTypeTagRelation relation : list) {
//            assertNotNull(relation.getMatchingTag());
//            assertNotNull(relation.getMatchingScaleType());
//
//            log.info(relation.getMatchingScaleType().getName());
//            log.info(relation.getMatchingTag().getName());
//        }

        // TODO: this definitely works
//        ScaleTypeTag tag = new ScaleTypeTag();
//        tag.setName("TEST");
//
//        tag = Services.getScaleTypeTagService().save(tag);

//        ScaleTypeTag tag = Services.getScaleTypeTagService().findByName("TEST").get();
//
//        ScaleTypeTagRelation relation = new ScaleTypeTagRelation();
//        relation.setMatchingScaleType(scaleType);
//        relation.setMatchingTag(tag);
//
//        relation = service.save(relation);

    }

}
